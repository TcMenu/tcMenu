<TcMenuPlugin name="Control device over LAN using embedCONTROL" id="814334f5-fa50-43b1-9fcb-f34c6c5c4e40" subsystem="REMOTE"
              xmlns="https://www.thecoderscorner.com/libraries/tcmenuPluginItem" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="https://www.thecoderscorner.com/libraries/tcmenuPluginItem https://www.thecoderscorner.com/libraries/tcmenu-plugin-item.xsd">
    <SupportedPlatforms>
        <Platform>RASPBERRY_PIJ</Platform>
    </SupportedPlatforms>
    <Description>Control your embedded device remotely using the embedCONTROL app supported on most desktops.</Description>
    <Documentation link="https://www.thecoderscorner.com/products/arduino-libraries/tc-menu/embedded_java_raspberru_pi/"/>
    <RequiredLibraries/>
    <ImageFile>embedCONTROL.png</ImageFile>

    <Properties>
        <Property id="EJ_NET_PORT_NUMBER" name="Port number for connections" initial="3333" type="int" min="1024" max="65000"
                  desc="The port number for desktop and API embedCONTROL connections"/>
    </Properties>

    <ApplicabilityDefs/>

    <SourceFiles/>

    <IncludeFiles>
        <Header name="com.thecoderscorner.menu.remote.protocol.*" inSource="true"/>
        <Header name="com.thecoderscorner.menu.remote.mgrclient.*" inSource="true"/>
        <Header name="java.util.concurrent.*" inSource="true"/>
        <Header name="java.time.*" inSource="true"/>
    </IncludeFiles>

    <GlobalVariables>
        <Variable name="tagVal" type="TagValMenuCommandProtocol" inContext="true"/>
        <Variable name="socketClient" type="SocketServerConnectionManager" inContext="true">
            <Param ref="TagValMenuCommandProtocol" name="protocol" />
            <Param ref="ScheduledExecutorService" name="executor" />
            <Param value="${EJ_NET_PORT_NUMBER}" name="portNum" type="int" />
            <Param ref="Clock.class" name="clock" />
        </Variable>
    </GlobalVariables>

    <SetupFunctions>
        <Function name="addConnectionManager" object="manager">
            <Param value="socketClient"/>
        </Function>
    </SetupFunctions>
</TcMenuPlugin>